const cacheName = 'sr-precache-8045571e445ca9e10a209dfa3e1b450f6692ea43';

const PrecacheList = [
  "/",
  "/index.html",
  "/css/main.min.css",
  "/js/main.min.js",
  "/js/ga.js",
  "/posts.html",
  "/about.html",
  "/404.html",
  "/manifest.json",
  "/favicon.ico",
  "/billing/index.html",
  "/billing/static/css/2.a9b17f06.chunk.css",
  "/billing/static/css/main.3f00f96d.chunk.css",
  "/billing/static/js/2.e019557f.chunk.js",
  "/billing/static/js/main.736553ae.chunk.js",
  "/billing/static/js/runtime~main.65bdb53c.js",
  "/imggps/index.html",
  "/imggps/static/css/main.5f9444b5.css",
  "/imggps/static/images/drop-image.png",
  "/imggps/static/js/101.d06ad948.chunk.js",
  "/imggps/static/js/129.70bc55ec.chunk.js",
  "/imggps/static/js/27.3da58fbf.chunk.js",
  "/imggps/static/js/428.296e3334.chunk.js",
  "/imggps/static/js/main.b53710ec.js",
  "/post/2009/luck.html",
  "/post/2009/yuanyuan.html",
  "/post/2013/git-config.html",
  "/post/2013/live-in-beijing.html",
  "/post/2013/not-a-good-ending.html",
  "/post/2014/a-dark-room.html",
  "/post/2014/markdown-syntax.html",
  "/post/2015/connect-ipv6.html",
  "/post/2015/crossroads.html",
  "/post/2015/ftf-to-zip.html",
  "/post/2015/git-best-practices.html",
  "/post/2015/go-chase-our-dreams.html",
  "/post/2015/responsive-design.html",
  "/post/2016/spot.html",
  "/post/2018/feelings-of-leaving.html",
  "/post/2018/migration-to-https.html",
  "/post/2018/pwa-integration.html",
  "/post/2019/adding-dark-mode.html",
  "/post/2019/over-concern.html",
  "/post/2019/the-2nd-birthday.html",
  "/post/2020/choice-about-responsibility.html",
  "/post/2020/enable-ntfs-mac.html",
  "/post/2020/fifth-huluversary.html",
  "/post/2020/hevcify-camera-videos.html",
  "/post/2020/ncee-delayed.html",
  "/post/2023/eighth-huluversary.html",
  "/post/2023/lifes-hard.html",
  "/post/2023/qing-gan-grand-loop.html",
  "/post/2024/lifes-fragile.html",
  "/post/2024/why-working-hard.html",
  "/images/logo/daisy.png",
  "/images/logo/leaf-1.png",
  "/images/logo/leaf-2.png",
  "/images/logo/opaque-128.png",
  "/images/logo/opaque-152.png",
  "/images/logo/opaque-167.png",
  "/images/logo/opaque-180.png",
  "/images/logo/opaque-256.png",
  "/images/logo/opaque-512.png",
  "/images/logo/SR-full.png",
  "/images/logo/SR-huge.png",
  "/images/logo/SR-oneline.png",
  "/images/logo/SR-simple.png",
  "/images/logo/transparent-128.png",
  "/images/logo/transparent-192.png",
  "/images/logo/transparent-256.png",
  "/images/logo/transparent-512.png",
  "/images/splashscreens/ipad_splash.png",
  "/images/splashscreens/ipadpro1_splash.png",
  "/images/splashscreens/ipadpro2_splash.png",
  "/images/splashscreens/ipadpro3_splash.png",
  "/images/splashscreens/iphone6_splash.png",
  "/images/splashscreens/iphoneplus_splash.png",
  "/images/splashscreens/iphonex_splash.png",
  "/images/splashscreens/iphonexr_splash.png",
  "/images/splashscreens/iphonexsmax_splash.png",
  "/images/topbar/1.jpg",
  "/images/topbar/2.jpg",
  "/images/topbar/3.jpg",
  "/images/topbar/4.jpg",
  "/images/topbar/5.jpg",
  "/images/topbar/6.jpg",
  "/fonts/OpenSans-Bold.eot",
  "/fonts/OpenSans-Bold.svg",
  "/fonts/OpenSans-Bold.ttf",
  "/fonts/OpenSans-Bold.woff",
  "/fonts/OpenSans-Bold.woff2",
  "/fonts/OpenSans-BoldItalic.eot",
  "/fonts/OpenSans-BoldItalic.svg",
  "/fonts/OpenSans-BoldItalic.ttf",
  "/fonts/OpenSans-BoldItalic.woff",
  "/fonts/OpenSans-BoldItalic.woff2",
  "/fonts/OpenSans-ExtraBold.eot",
  "/fonts/OpenSans-ExtraBold.svg",
  "/fonts/OpenSans-ExtraBold.ttf",
  "/fonts/OpenSans-ExtraBold.woff",
  "/fonts/OpenSans-ExtraBold.woff2",
  "/fonts/OpenSans-ExtraBoldItalic.eot",
  "/fonts/OpenSans-ExtraBoldItalic.svg",
  "/fonts/OpenSans-ExtraBoldItalic.ttf",
  "/fonts/OpenSans-ExtraBoldItalic.woff",
  "/fonts/OpenSans-ExtraBoldItalic.woff2",
  "/fonts/OpenSans-Italic.eot",
  "/fonts/OpenSans-Italic.svg",
  "/fonts/OpenSans-Italic.ttf",
  "/fonts/OpenSans-Italic.woff",
  "/fonts/OpenSans-italic.woff2",
  "/fonts/OpenSans-Light.eot",
  "/fonts/OpenSans-Light.svg",
  "/fonts/OpenSans-Light.ttf",
  "/fonts/OpenSans-Light.woff",
  "/fonts/OpenSans-Light.woff2",
  "/fonts/OpenSans-LightItalic.eot",
  "/fonts/OpenSans-LightItalic.svg",
  "/fonts/OpenSans-LightItalic.ttf",
  "/fonts/OpenSans-LightItalic.woff",
  "/fonts/OpenSans-LightItalic.woff2",
  "/fonts/OpenSans-Regular.eot",
  "/fonts/OpenSans-Regular.svg",
  "/fonts/OpenSans-Regular.ttf",
  "/fonts/OpenSans-Regular.woff",
  "/fonts/OpenSans-Regular.woff2",
  "/fonts/OpenSans-Semibold.eot",
  "/fonts/OpenSans-Semibold.svg",
  "/fonts/OpenSans-Semibold.ttf",
  "/fonts/OpenSans-Semibold.woff",
  "/fonts/OpenSans-Semibold.woff2",
  "/fonts/OpenSans-SemiboldItalic.eot",
  "/fonts/OpenSans-SemiboldItalic.svg",
  "/fonts/OpenSans-SemiboldItalic.ttf",
  "/fonts/OpenSans-SemiboldItalic.woff",
  "/fonts/OpenSans-SemiboldItalic.woff2",
  "/gopl/appendix/appendix-a-errata.html",
  "/gopl/appendix/appendix-b-author.html",
  "/gopl/appendix/appendix-c-cpoyright.html",
  "/gopl/appendix/appendix-d-translations.html",
  "/gopl/appendix/appendix-z-index-good.html",
  "/gopl/appendix/appendix-z-index.html",
  "/gopl/appendix/appendix.html",
  "/gopl/ch0/ch0-01.html",
  "/gopl/ch0/ch0-02.html",
  "/gopl/ch0/ch0-03.html",
  "/gopl/ch0/ch0-04.html",
  "/gopl/ch0/ch0-05.html",
  "/gopl/ch1/ch1-01.html",
  "/gopl/ch1/ch1-02.html",
  "/gopl/ch1/ch1-03.html",
  "/gopl/ch1/ch1-04.html",
  "/gopl/ch1/ch1-05.html",
  "/gopl/ch1/ch1-06.html",
  "/gopl/ch1/ch1-07.html",
  "/gopl/ch1/ch1-08.html",
  "/gopl/ch1/ch1.html",
  "/gopl/ch10/ch10-01.html",
  "/gopl/ch10/ch10-02.html",
  "/gopl/ch10/ch10-03.html",
  "/gopl/ch10/ch10-04.html",
  "/gopl/ch10/ch10-05.html",
  "/gopl/ch10/ch10-06.html",
  "/gopl/ch10/ch10-07.html",
  "/gopl/ch10/ch10.html",
  "/gopl/ch11/ch11-01.html",
  "/gopl/ch11/ch11-02.html",
  "/gopl/ch11/ch11-03.html",
  "/gopl/ch11/ch11-04.html",
  "/gopl/ch11/ch11-05.html",
  "/gopl/ch11/ch11-06.html",
  "/gopl/ch11/ch11.html",
  "/gopl/ch12/ch12-01.html",
  "/gopl/ch12/ch12-02.html",
  "/gopl/ch12/ch12-03.html",
  "/gopl/ch12/ch12-04.html",
  "/gopl/ch12/ch12-05.html",
  "/gopl/ch12/ch12-06.html",
  "/gopl/ch12/ch12-07.html",
  "/gopl/ch12/ch12-08.html",
  "/gopl/ch12/ch12-09.html",
  "/gopl/ch12/ch12.html",
  "/gopl/ch13/ch13-01.html",
  "/gopl/ch13/ch13-02.html",
  "/gopl/ch13/ch13-03.html",
  "/gopl/ch13/ch13-04.html",
  "/gopl/ch13/ch13-05.html",
  "/gopl/ch13/ch13.html",
  "/gopl/ch2/ch2-01.html",
  "/gopl/ch2/ch2-02.html",
  "/gopl/ch2/ch2-03.html",
  "/gopl/ch2/ch2-04.html",
  "/gopl/ch2/ch2-05.html",
  "/gopl/ch2/ch2-06.html",
  "/gopl/ch2/ch2-07.html",
  "/gopl/ch2/ch2.html",
  "/gopl/ch3/ch3-01.html",
  "/gopl/ch3/ch3-02.html",
  "/gopl/ch3/ch3-03.html",
  "/gopl/ch3/ch3-04.html",
  "/gopl/ch3/ch3-05.html",
  "/gopl/ch3/ch3-06.html",
  "/gopl/ch3/ch3.html",
  "/gopl/ch4/ch4-01.html",
  "/gopl/ch4/ch4-02.html",
  "/gopl/ch4/ch4-03.html",
  "/gopl/ch4/ch4-04.html",
  "/gopl/ch4/ch4-05.html",
  "/gopl/ch4/ch4-06.html",
  "/gopl/ch4/ch4.html",
  "/gopl/ch5/ch5-01.html",
  "/gopl/ch5/ch5-02.html",
  "/gopl/ch5/ch5-03.html",
  "/gopl/ch5/ch5-04.html",
  "/gopl/ch5/ch5-05.html",
  "/gopl/ch5/ch5-06.html",
  "/gopl/ch5/ch5-07.html",
  "/gopl/ch5/ch5-08.html",
  "/gopl/ch5/ch5-09.html",
  "/gopl/ch5/ch5-10.html",
  "/gopl/ch5/ch5.html",
  "/gopl/ch6/ch6-01.html",
  "/gopl/ch6/ch6-02.html",
  "/gopl/ch6/ch6-03.html",
  "/gopl/ch6/ch6-04.html",
  "/gopl/ch6/ch6-05.html",
  "/gopl/ch6/ch6-06.html",
  "/gopl/ch6/ch6.html",
  "/gopl/ch7/ch7-01.html",
  "/gopl/ch7/ch7-02.html",
  "/gopl/ch7/ch7-03.html",
  "/gopl/ch7/ch7-04.html",
  "/gopl/ch7/ch7-05.html",
  "/gopl/ch7/ch7-06.html",
  "/gopl/ch7/ch7-07.html",
  "/gopl/ch7/ch7-08.html",
  "/gopl/ch7/ch7-09.html",
  "/gopl/ch7/ch7-10.html",
  "/gopl/ch7/ch7-11.html",
  "/gopl/ch7/ch7-12.html",
  "/gopl/ch7/ch7-13.html",
  "/gopl/ch7/ch7-14.html",
  "/gopl/ch7/ch7-15.html",
  "/gopl/ch7/ch7.html",
  "/gopl/ch8/ch8-01.html",
  "/gopl/ch8/ch8-02.html",
  "/gopl/ch8/ch8-03.html",
  "/gopl/ch8/ch8-04.html",
  "/gopl/ch8/ch8-05.html",
  "/gopl/ch8/ch8-06.html",
  "/gopl/ch8/ch8-07.html",
  "/gopl/ch8/ch8-08.html",
  "/gopl/ch8/ch8-09.html",
  "/gopl/ch8/ch8-10.html",
  "/gopl/ch8/ch8.html",
  "/gopl/ch9/ch9-01.html",
  "/gopl/ch9/ch9-02.html",
  "/gopl/ch9/ch9-03.html",
  "/gopl/ch9/ch9-04.html",
  "/gopl/ch9/ch9-05.html",
  "/gopl/ch9/ch9-06.html",
  "/gopl/ch9/ch9-07.html",
  "/gopl/ch9/ch9-08.html",
  "/gopl/ch9/ch9.html",
  "/gopl/images/Alan.Donovan.png",
  "/gopl/images/Brian.W.Kernighan.png",
  "/gopl/images/by-nc-sa-4.0-88x31.png",
  "/gopl/images/ch0-01.png",
  "/gopl/images/ch1-01.gif",
  "/gopl/images/ch1-01.png",
  "/gopl/images/ch1-02.png",
  "/gopl/images/ch1-03.png",
  "/gopl/images/ch10-01.png",
  "/gopl/images/ch11-01.png",
  "/gopl/images/ch11-02.png",
  "/gopl/images/ch11-03.png",
  "/gopl/images/ch11-04.png",
  "/gopl/images/ch13-01.png",
  "/gopl/images/ch3-01.png",
  "/gopl/images/ch3-02.png",
  "/gopl/images/ch3-03.png",
  "/gopl/images/ch3-04.png",
  "/gopl/images/ch3-05.png",
  "/gopl/images/ch4-01.png",
  "/gopl/images/ch4-02.png",
  "/gopl/images/ch4-03.png",
  "/gopl/images/ch4-04.png",
  "/gopl/images/ch4-05.png",
  "/gopl/images/ch4-06.png",
  "/gopl/images/ch4-xx-01.png",
  "/gopl/images/ch6-xx-00.png",
  "/gopl/images/ch7-01.png",
  "/gopl/images/ch7-02.png",
  "/gopl/images/ch7-03.png",
  "/gopl/images/ch7-04.png",
  "/gopl/images/ch7-05.png",
  "/gopl/images/ch7-06.png",
  "/gopl/images/ch7-07.png",
  "/gopl/images/ch8-01.png",
  "/gopl/images/ch8-02.png",
  "/gopl/images/ch8-03.png",
  "/gopl/images/ch8-04.png",
  "/gopl/images/ch8-05.png",
  "/gopl/images/cover.png",
  "/gopl/images/favicon.ico",
  "/gopl/images/go-log04.png",
  "/gopl/images/gopher/go_lang_mascot_by_kirael_art-d7kunhu.gif",
  "/gopl/images/logo/bitbucket.png",
  "/gopl/images/logo/github.png",
  "/gopl/images/logo/gopher-china.png",
  "/gopl/preface.html",
  "/gopl/summary.html"
];


self.addEventListener('install', function(e) {
  console.log('[SW] Install');
  e.waitUntil(
    caches.open(cacheName).then(function(cache) {
      console.log('[SW] Caching all files.');
      cache.addAll(PrecacheList);
      console.log('[SW] SkipWaiting');
      return self.skipWaiting();
    })
  );
});


self.addEventListener('activate', function(e) {
  console.log('[SW] Activate');
  e.waitUntil(
    caches.keys().then(function(keyList) {
      return Promise.all(keyList.map(function(key) {
        if (key !== cacheName) {
          console.log('[SW] Removing old cache', key);
          return caches.delete(key);
        }
      }));
    })
  );
  return self.clients.claim();
});


self.addEventListener('fetch', function(e) {
  e.respondWith(
    caches.match(e.request).then(function(response) {
      return response || fetch(e.request);
    })
  );
});

