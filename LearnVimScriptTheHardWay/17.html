<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Status Lines | Yiming @ SeasonsRoad</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Vim allows you to customize the text in the status line at the bottom of each window.  This is done through the statusline option.  Run the following command:
1:set statusline=%f
You should see the pa">
<meta property="og:type" content="website">
<meta property="og:title" content="Status Lines">
<meta property="og:url" content="http://blog.seasonsroad.com/LearnVimScriptTheHardWay/17.html">
<meta property="og:site_name" content="Yiming @ SeasonsRoad">
<meta property="og:description" content="Vim allows you to customize the text in the status line at the bottom of each window.  This is done through the statusline option.  Run the following command:
1:set statusline=%f
You should see the pa">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Status Lines">
<meta name="twitter:description" content="Vim allows you to customize the text in the status line at the bottom of each window.  This is done through the statusline option.  Run the following command:
1:set statusline=%f
You should see the pa">
  
    <link rel="alternative" href="/atom.xml" title="Yiming @ SeasonsRoad" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-nav" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Good Morning!</a>
      </h1>
      <nav id="main-nav">
        <ul class="mod-head__ul">
        
          <li class="main-nav-link"><a href="/">Home</a></li>
        
          <li class="main-nav-link"><a href="/links.html">Links</a></li>
        
          <li class="main-nav-link"><a href="https://github.com/yiminglu">Github</a></li>
        
          <li class="main-nav-link"><a href="/about.html">About</a></li>
        
        </ul>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
      </nav>
    </div>
  </div>
</header>
      <div class="inner">
        <section id="main"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      <a href="/LearnVimScriptTheHardWay/17.html">
        Status Lines
      </a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Vim allows you to customize the text in the status line at the bottom of each window.  This is done through the <code>statusline</code> option.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%f</span><br></pre></td></tr></table></figure>
<p>You should see the path to the file (relative to the current directory) in the status line.  Now run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%f\ -\ FileType:\ %y</span><br></pre></td></tr></table></figure>
<p>Now you’ll see something like <code>foo.markdown - FileType: [markdown]</code> in the status line.</p>
<p>If you’re familiar with C’s <code>printf</code> or Python’s string interpolation the format of this option may look familiar.  If not, the only trick is that things that start with <code>%</code> are expanded to different text depending on what comes after them.  In our example <code>%f</code> is replaced with the filename and <code>%y</code> is replaced with the type of the file.</p>
<p>Notice how the spaces in the status line need to be escaped with backslashes. This is because <code>set</code> allows you to set multiple options at once, as we saw in the second chapter.</p>
<p>Status lines can get extremely complicated very quickly, so there’s a better way to set them that will let us be more clear.  Run the following commands:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%f         " Path to the file</span><br><span class="line"></span><br><span class="line">:set statusline+=\ -\      " Separator</span><br><span class="line"></span><br><span class="line">:set statusline+=FileType: " Label</span><br><span class="line"></span><br><span class="line">:set statusline+=%y        " Filetype of the file</span><br></pre></td></tr></table></figure>
<p>In the first command we used <code>=</code> to wipe out any existing value present.  In the rest we used <code>+=</code> to build up the option one piece at a time.  We also added comments explaining each piece for other people reading the code (or ourselves several months later).</p>
<p>Run the following commands:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%l    " Current line</span><br><span class="line"></span><br><span class="line">:set statusline+=/    " Separator</span><br><span class="line"></span><br><span class="line">:set statusline+=%L   " Total lines</span><br></pre></td></tr></table></figure>
<p>Now the status line contains only the current line number and number of lines in the file, and looks something like <code>12/223</code>.</p>
<h2 id="Width_and_Padding">Width and Padding</h2><p>Additional characters can be used in some of the various <code>%</code> codes to change how the information is displayed.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=[%4l]</span><br></pre></td></tr></table></figure>
<p>The line number in the status line will now be preceded by enough spaces to make it at least four characters wide (for example: <code>[  12]</code>).  This can be useful to prevent the text in the status line from shifting around distractingly.</p>
<p>By default the padding spaces are added on the left side of the value.  Run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=Current:\ %4l\ Total:\ %4L</span><br></pre></td></tr></table></figure>
<p>Your status line will now look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Current:   12 Total:  223</span><br></pre></td></tr></table></figure>
<p>You can use <code>-</code> to place padding on the right instead of the left.  Run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=Current:\ %-4l\ Total:\ %-4L</span><br></pre></td></tr></table></figure>
<p>Your status line will now look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Current: 12   Total: 223</span><br></pre></td></tr></table></figure>
<p>This looks much nicer because the numbers are next to their labels.</p>
<p>For codes that result in a number you can tell Vim to pad with zeros instead of spaces.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%04l</span><br></pre></td></tr></table></figure>
<p>Now your status line will read <code>0012</code> when on line twelve.</p>
<p>Finally, you can also set the maximum width of a code’s output.  Run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%F</span><br></pre></td></tr></table></figure>
<p><code>%F</code> displays the <em>full</em> path to the current file.  Now run this command to change the maximum width:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%.20F</span><br></pre></td></tr></table></figure>
<p>The path will be truncated if necessary, looking something like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;hapters/17.markdown</span><br></pre></td></tr></table></figure>
<p>This can be useful for preventing paths and other long codes from taking up the entire line.</p>
<h2 id="General_Format">General Format</h2><p>The general format for a code in a status line is shown in <code>:help statusline</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%-0&#123;minwid&#125;.&#123;maxwid&#125;&#123;item&#125;</span><br></pre></td></tr></table></figure>
<p>Everything except the <code>%</code> and the item is optional.</p>
<h2 id="Splitting">Splitting</h2><p>We’re not going to cover status lines in too much detail here (Vim’s own documentation on them is very extensive if you want to learn more), but there’s one more simple code that can be very useful immediately.  Run the following commands:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">:set statusline=%f         " Path to the file</span><br><span class="line"></span><br><span class="line">:set statusline+=%=        " Switch to the right side</span><br><span class="line"></span><br><span class="line">:set statusline+=%l        " Current line</span><br><span class="line"></span><br><span class="line">:set statusline+=/         " Separator</span><br><span class="line"></span><br><span class="line">:set statusline+=%L        " Total lines</span><br></pre></td></tr></table></figure>
<p>Now the status line will contain the path to the file on the left side, and the current/total lines on the right side.  The <code>%=</code> code tells Vim that everything coming after that should be aligned (as a whole) to the right instead of the left.</p>
<h2 id="Exercises">Exercises</h2><p>Skim the list of available codes in <code>:help statusline</code>.  Don’t worry if you don’t understand some of them just yet.</p>
<p>Add some lines to your <code>~/.vimrc</code> file to build yourself a custom status line. Be sure to use the <code>+=</code> form of <code>set</code> to split the definition across multiple lines, and add a comment on each line to document what each piece does.</p>
<p>Try using autocommands and <code>setlocal</code> to define different status lines for different filetypes.  Make sure to wrap the autocommands in groups to prevent duplication (as always).</p>
<p><a href="16.html">« Previous</a><a style="float:right" href="18.html">Next »</a></p>

      
    </div>
    
  </div>
  
</article>


</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
	<div id="footer-info" class="inner">
	&copy; 2016 Yiming LU<br>
	Hosted on <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.
	Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.
	</div>
  </div>
</footer>
    </div>
    
<script>
  var disqus_shortname = 'ymlu';
  
  var disqus_url = 'http://blog.seasonsroad.com/LearnVimScriptTheHardWay/17.html';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

  </div>
</body>
</html>