<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Numbers | Yiming @ SeasonsRoad</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Now it’s time to start taking a closer look at the different types of variables you can use.  First we’ll go over Vim’s numeric types.
Vimscript has two types of numeric variables: Numbers and Floats.">
<meta property="og:type" content="website">
<meta property="og:title" content="Numbers">
<meta property="og:url" content="http://yiminglu.github.io/LearnVimScriptTheHardWay/25.html">
<meta property="og:site_name" content="Yiming @ SeasonsRoad">
<meta property="og:description" content="Now it’s time to start taking a closer look at the different types of variables you can use.  First we’ll go over Vim’s numeric types.
Vimscript has two types of numeric variables: Numbers and Floats.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Numbers">
<meta name="twitter:description" content="Now it’s time to start taking a closer look at the different types of variables you can use.  First we’ll go over Vim’s numeric types.
Vimscript has two types of numeric variables: Numbers and Floats.">
  
    <link rel="alternative" href="/atom.xml" title="Yiming @ SeasonsRoad" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-nav" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Good Morning!</a>
      </h1>
      <nav id="main-nav">
        <ul class="mod-head__ul">
        
          <li class="main-nav-link"><a href="/">Home</a></li>
        
          <li class="main-nav-link"><a href="/links.html">Links</a></li>
        
          <li class="main-nav-link"><a href="https://github.com/yiminglu">Github</a></li>
        
          <li class="main-nav-link"><a href="/about.html">About</a></li>
        
        </ul>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
      </nav>
    </div>
  </div>
</header>
      <div class="inner">
        <section id="main"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      <a href="/LearnVimScriptTheHardWay/25.html">
        Numbers
      </a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Now it’s time to start taking a closer look at the different types of variables you can use.  First we’ll go over Vim’s numeric types.</p>
<p>Vimscript has two types of numeric variables: Numbers and Floats.  A Number is a 32 bit signed integer.  A Float is a floating point number.</p>
<h2 id="Number_Formats">Number Formats</h2><p>You can specify Numbers in a few different ways.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echom 100</span><br></pre></td></tr></table></figure>
<p>No surprises here – Vim displays <code>100</code>.  Now run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echom 0xff</span><br></pre></td></tr></table></figure>
<p>This time Vim displays <code>255</code>.  You can specify numbers in hex notation by prefixing them with <code>0x</code> or <code>0X</code>.  Now run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echom 010</span><br></pre></td></tr></table></figure>
<p>You can also use octal by starting a number with a <code>0</code>.  Be careful with this, because it’s easy to make mistakes.  Try the following commands:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:echom 017</span><br><span class="line"></span><br><span class="line">:echom 019</span><br></pre></td></tr></table></figure>
<p>Vim will print <code>15</code> for the first command, because <code>17</code> in octal is equal to <code>15</code> in decimal.  For the second command Vim treats it as a decimal number, even though it starts with a <code>0</code>, because it’s not a valid octal number.</p>
<p>Because Vim silently does the wrong thing in this case, I’d recommend avoiding the use of octal numbers when possible.</p>
<h2 id="Float_Formats">Float Formats</h2><p>Floats can also be specified in multiple ways.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 100.1</span><br></pre></td></tr></table></figure>
<p>Notice that we’re using <code>echo</code> here and not <code>echom</code> like we usually to.  We’ll talk about why in a moment.</p>
<p>Vim displays <code>100.1</code> as expected.  You can also use exponential notation.  Run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 5.45e+3</span><br></pre></td></tr></table></figure>
<p>Vim displays <code>5450.0</code>.  A negative exponent can also be used.  Run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 15.45e-2</span><br></pre></td></tr></table></figure>
<p>Vim displays <code>0.1545</code>.  The <code>+</code> or <code>-</code> before the power of ten is optional. If it’s omitted then it’s assumed to be positive.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 15.3e9</span><br></pre></td></tr></table></figure>
<p>Vim will display <code>1.53e10</code>, which is equivalent.  The decimal point and number after it are <em>not</em> optional.  Run the following command and see that it crashes:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 5e10</span><br></pre></td></tr></table></figure>
<h2 id="Coercion">Coercion</h2><p>When you combine a Number and a Float through arithmetic, comparison, or any other operation Vim will cast the Number to a Float, resulting in a Float.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 2 * 2.0</span><br></pre></td></tr></table></figure>
<p>Vim displays <code>4.0</code>.</p>
<h2 id="Division">Division</h2><p>When dividing two Numbers, the remainder is dropped.  Run the following command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 3 / 2</span><br></pre></td></tr></table></figure>
<p>Vim displays <code>1</code>.  If you want Vim to perform floating point division one of the numbers needs to be a Float, which will cause the other one to be coerced to a Float as well.  Run this command:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:echo 3 / 2.0</span><br></pre></td></tr></table></figure>
<p>Vim displays <code>1.5</code>.  The <code>3</code> is coerced to a Float, and then normal floating point division is performed.</p>
<h2 id="Exercises">Exercises</h2><p>Read <code>:help Float</code>.  When might floating point number not work in Vimscript?</p>
<p>Read <code>:help floating-point-precision</code>.  What might this mean if you’re writing a Vim plugin that deals with floating point numbers?</p>
<p><a href="24.html">« Previous</a><a style="float:right" href="26.html">Next »</a></p>

      
    </div>
    
  </div>
  
</article>


</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
	<div id="footer-info" class="inner">
	&copy; 2016 Yiming LU<br>
	Hosted on <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.
	Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.
	</div>
  </div>
</footer>
    </div>
    
<script>
  var disqus_shortname = 'ymlu';
  
  var disqus_url = 'http://yiminglu.github.io/LearnVimScriptTheHardWay/25.html';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

  </div>
</body>
</html>